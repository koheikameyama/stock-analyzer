# Claude Code 設定

## 言語設定

**すべての出力は日本語で行ってください。**

- ユーザーとのコミュニケーションは日本語で行う
- コードコメントは日本語で記述する
- ドキュメント、仕様書、README等も日本語で作成する
- エラーメッセージや説明も日本語で提供する

## コミュニケーションルール

**質問は1つずつ行ってください。**

- ユーザーに質問をする際は、一度に1つの質問のみを行う
- 複数の質問がある場合でも、1つずつ順番に聞く
- ユーザーが回答した後、次の質問に進む

## 開発フロー

**ブランチ運用に従って開発してください。**

### ⚠️ 重要：ブランチ作成ルール

**作業を開始する前に、必ずブランチを作成してください。**

- **main ブランチへの直接コミットは絶対に禁止**
- **全ての変更（新機能、バグ修正、ドキュメント更新、免責事項追加など）は必ずブランチ経由**
- すべての変更は feature/fix/hotfix ブランチ経由で PR を作成
- PR作成時のラベルでリリース対象かどうかを判別
- ブランチ名の例:
  - `feature/リリースノート機能`
  - `feature/issue-33-design-improvement`
  - `fix/配当利回り計算エラー`
  - `hotfix/重大なバグ`

### ブランチ作成確認

新しい作業を始める前に、必ずユーザーに確認してください：

**質問例:**
- 「この作業用に `feature/リリースノート機能` ブランチを作成しますか？」
- 「ブランチ名は `fix/配当利回り計算エラー` で良いですか？」
- 「免責事項追加のため `feature/disclaimer-page` ブランチを作成します。よろしいですか？」

**例外なく、全ての変更でブランチを作成してください。**

### PR作成時の注意

PR作成時は、適切なバージョンラベルを提案してください。

**基本ルール: ユーザーに影響があるかどうかで判断**

- **version:major** - 破壊的変更（例: API仕様変更、既存機能削除）
  - ユーザー影響: 大 → リリース必須
- **version:minor** - 新機能追加（例: リリースノート機能、ナビゲーション改善）
  - ユーザー影響: あり → リリース必須
- **version:patch** - バグ修正・軽微な改善（例: 表示エラー修正、レスポンシブ対応）
  - ユーザー影響: あり → リリース必須
- **ラベルなし** - 内部改善のみ（例: ワークフロー改善、リファクタリング、ドキュメント更新）
  - ユーザー影響: なし → リリース不要

**全てのバージョンラベル（major/minor/patch）で実行される処理:**
- GitHub Release作成
- Slack通知
- X投稿テンプレート生成
- `/releases`ページに表示

**確認する質問例:**
- 「このPRには `version:minor` ラベルを付けますか？（ユーザーに見える新機能のため）」
- 「バグ修正なので `version:patch` ラベルを付けることをおすすめします。よろしいですか？」
- 「内部改善のみなのでラベルなしで良いですか？（リリースは作成されません）」

### 自動リリースの流れ

1. PR作成 + version:* ラベル付与
2. main にマージ
3. 自動的にバージョン計算してGitHub Release作成
4. Slack通知（X投稿候補付き）
5. ユーザーが手動でX投稿

### 詳細ドキュメント

詳しくは [ブランチ運用戦略](./docs/branch_strategy.md) を参照してください。

## 例外

- コード自体（変数名、関数名、クラス名など）は英語で記述する
- commit メッセージは英語または日本語（プロジェクトの慣習に従う）
